<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Trail - Ultimate Edition</title>
    <meta name="description" content="The most advanced trail-based arcade game with 100+ features, achievements, multiplayer, and endless customization!">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/game.css">
    <link rel="stylesheet" href="css/ui.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loader-container">
            <div class="quantum-loader"></div>
            <h2>INITIALIZING QUANTUM REALM</h2>
            <div class="loading-progress">
                <div class="progress-bar"></div>
            </div>
            <p class="loading-text">Loading assets...</p>
        </div>
    </div>

    <!-- Navigation -->
    <nav id="main-nav">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fas fa-atom"></i>
                <span>QUANTUM TRAIL</span>
            </div>
            <ul class="nav-menu">
                <li><a href="#home" class="nav-link active" data-page="home"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="#play" class="nav-link" data-page="play"><i class="fas fa-gamepad"></i> Play</a></li>
                <li><a href="#leaderboard" class="nav-link" data-page="leaderboard"><i class="fas fa-trophy"></i> Leaderboard</a></li>
                <li><a href="#achievements" class="nav-link" data-page="achievements"><i class="fas fa-medal"></i> Achievements</a></li>
                <li><a href="#shop" class="nav-link" data-page="shop"><i class="fas fa-store"></i> Shop</a></li>
                <li><a href="#profile" class="nav-link" data-page="profile"><i class="fas fa-user"></i> Profile</a></li>
            </ul>
            <div class="nav-user">
                <div class="user-currency">
                    <i class="fas fa-coins"></i>
                    <span id="user-coins">0</span>
                </div>
                <div class="user-avatar" id="user-avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Container -->
    <main id="app-container">
        <!-- Home Page -->
        <section id="home-page" class="page active">
            <div class="hero-section">
                <div class="hero-content">
                    <h1 class="hero-title">
                        <span class="quantum-text">QUANTUM</span>
                        <span class="trail-text">TRAIL</span>
                    </h1>
                    <p class="hero-subtitle">Master the Art of Looping • Ultimate Edition</p>
                    <div class="hero-stats">
                        <div class="stat-item">
                            <i class="fas fa-users"></i>
                            <span id="total-players">1,234,567</span>
                            <p>Players</p>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-gamepad"></i>
                            <span id="games-played">10,456,789</span>
                            <p>Games Played</p>
                        </div>
                        <div class="stat-item">
                            <i class="fas fa-fire"></i>
                            <span id="daily-streak">0</span>
                            <p>Your Streak</p>
                        </div>
                    </div>
                    <div class="hero-buttons">
                        <button class="btn btn-primary btn-large" onclick="App.navigateTo('play')">
                            <i class="fas fa-play"></i> PLAY NOW
                        </button>
                        <button class="btn btn-secondary btn-large" onclick="App.showTutorial()">
                            <i class="fas fa-book"></i> HOW TO PLAY
                        </button>
                    </div>
                </div>
                <div class="hero-animation">
                    <canvas id="hero-canvas" width="600" height="600"></canvas>
                </div>
            </div>

            <!-- Features Showcase -->
            <div class="features-section">
                <h2 class="section-title">✨ 100+ AMAZING FEATURES ✨</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-gamepad"></i>
                        <h3>10 Game Modes</h3>
                        <p>Classic, Time Attack, Zen, Hardcore, Survival, and more!</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-trophy"></i>
                        <h3>100+ Achievements</h3>
                        <p>Unlock badges, titles, and exclusive rewards</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-palette"></i>
                        <h3>Unlimited Customization</h3>
                        <p>Skins, trails, themes, effects, and particles</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-users"></i>
                        <h3>Multiplayer</h3>
                        <p>Challenge friends, ghost races, tournaments</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-chart-line"></i>
                        <h3>Advanced Stats</h3>
                        <p>Detailed analytics, graphs, and insights</p>
                    </div>
                    <div class="feature-card">
                        <i class="fas fa-calendar"></i>
                        <h3>Daily Challenges</h3>
                        <p>New missions, events, and rewards every day</p>
                    </div>
                </div>
            </div>

            <!-- Daily Challenge Preview -->
            <div class="daily-challenge-section">
                <h2 class="section-title">🔥 TODAY'S CHALLENGE 🔥</h2>
                <div class="daily-challenge-card">
                    <div class="challenge-info">
                        <h3 id="daily-challenge-title">Speed Demon</h3>
                        <p id="daily-challenge-desc">Score 50,000 points using only Speed Boost power-ups</p>
                        <div class="challenge-rewards">
                            <span><i class="fas fa-coins"></i> 1000 Coins</span>
                            <span><i class="fas fa-gem"></i> Exclusive Skin</span>
                        </div>
                    </div>
                    <div class="challenge-progress">
                        <div class="progress-circle">
                            <svg width="120" height="120">
                                <circle cx="60" cy="60" r="54" fill="none" stroke="#1a1a2e" stroke-width="8"/>
                                <circle id="challenge-progress-circle" cx="60" cy="60" r="54" fill="none" stroke="#00ffff" stroke-width="8" stroke-dasharray="339.292" stroke-dashoffset="339.292"/>
                            </svg>
                            <div class="progress-text">
                                <span id="challenge-percent">0%</span>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="App.startDailyChallenge()">
                        <i class="fas fa-rocket"></i> START CHALLENGE
                    </button>
                </div>
            </div>
        </section>

        <!-- Play Page -->
        <section id="play-page" class="page">
            <!-- Game Mode Selection -->
            <div id="mode-selection" class="mode-selection-container">
                <h2 class="page-title">SELECT GAME MODE</h2>
                <div class="modes-grid">
                    <!-- Classic Mode -->
                    <div class="mode-card" data-mode="classic">
                        <div class="mode-icon">
                            <i class="fas fa-infinity"></i>
                        </div>
                        <h3>CLASSIC</h3>
                        <p>The original quantum experience</p>
                        <ul class="mode-features">
                            <li>Endless gameplay</li>
                            <li>Progressive difficulty</li>
                            <li>All power-ups</li>
                        </ul>
                        <button class="btn btn-primary" onclick="Game.startMode('classic')">PLAY</button>
                    </div>

                    <!-- Time Attack Mode -->
                    <div class="mode-card" data-mode="time-attack">
                        <div class="mode-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h3>TIME ATTACK</h3>
                        <p>Score as much as possible in 2 minutes</p>
                        <ul class="mode-features">
                            <li>120 second timer</li>
                            <li>2x score multiplier</li>
                            <li>Extra power-ups</li>
                        </ul>
                        <button class="btn btn-primary" onclick="Game.startMode('time-attack')">PLAY</button>
                    </div>

                    <!-- Zen Mode -->
                    <div class="mode-card" data-mode="zen">
                        <div class="mode-icon">
                            <i class="fas fa-spa"></i>
                        </div>
                        <h3>ZEN MODE</h3>
                        <p>Relaxing gameplay, no timer</p>
                        <ul class="mode-features">
                            <li>No time limit</li>
                            <li>Peaceful music</li>
                            <li>No obstacles</li>
                        </ul>
                        <button class="btn btn-primary" onclick="Game.startMode('zen')">PLAY</button>
                    </div>

                    <!-- Hardcore Mode -->
                    <div class="mode-card" data-mode="hardcore">
                        <div class="mode-icon">
                            <i class="fas fa-skull"></i>
                        </div>
                        <h3>HARDCORE</h3>
                        <p>For the ultimate challenge</p>
                        <ul class="mode-features">
                            <li>One hit = game over</li>
                            <li>Faster obstacles</li>
                            <li>3x score multiplier</li>
                        </ul>
                        <button class="btn btn-primary" onclick="Game.startMode('hardcore')">PLAY</button>
                    </div>

                    <!-- Survival Mode -->
                    <div class="mode-card" data-mode="survival">
                        <div class="mode-icon">
                            <i class="fas fa-heart-pulse"></i>
                        </div>
                        <h3>SURVIVAL</h3>
                        <p>Last as long as you can</p>
                        <ul class="mode-features">
                            <li>3 lives system</li>
                            <li>Increasing speed</li>
                            <li>Boss encounters</li>
                        </ul>
                        <button class="btn btn-primary" onclick="Game.startMode('survival')">PLAY</button>
                    </div>

                    <!-- More modes... -->
                    <div class="mode-card" data-mode="puzzle">
                        <div class="mode-icon">
                            <i class="fas fa-puzzle-piece"></i>
                        </div>
                        <h3>PUZZLE</h3>
                        <p>Complete specific patterns</p>
                        <ul class="mode-features">
                            <li>Pattern challenges</li>
                            <li>50 unique levels</li>
                            <li>Logic & skill</li>
                        </ul>
                        <button class="btn btn-primary" onclick="Game.startMode('puzzle')">PLAY</button>
                    </div>
                </div>
            </div>

            <!-- Game Container -->
            <div id="game-area" class="game-area" style="display: none;">
                <div class="game-wrapper" id="game-wrapper">
                    <div class="game-container" id="game-container">
                        <canvas id="game-canvas" width="800" height="800"></canvas>
                        
                        <!-- Game HUD -->
                        <div id="game-hud" class="game-hud">
                            <div class="hud-top">
                                <div class="hud-stat">
                                    <i class="fas fa-star"></i>
                                    <span id="hud-score">0</span>
                                </div>
                                <div class="hud-stat">
                                    <i class="fas fa-clock"></i>
                                    <span id="hud-time">8.0</span>
                                </div>
                                <div class="hud-stat">
                                    <i class="fas fa-fire"></i>
                                    <span id="hud-combo">x1</span>
                                </div>
                            </div>
                            
                            <div class="hud-powerups">
                                <div class="powerup-slot" id="powerup-1"></div>
                                <div class="powerup-slot" id="powerup-2"></div>
                                <div class="powerup-slot" id="powerup-3"></div>
                            </div>
                            
                            <div class="hud-bottom">
                                <button class="btn btn-small" onclick="Game.pause()">
                                    <i class="fas fa-pause"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Pause Menu -->
                        <div id="pause-menu" class="overlay-menu">
                            <div class="menu-content">
                                <h2>PAUSED</h2>
                                <button class="btn btn-primary" onclick="Game.resume()">
                                    <i class="fas fa-play"></i> RESUME
                                </button>
                                <button class="btn btn-secondary" onclick="Game.restart()">
                                    <i class="fas fa-redo"></i> RESTART
                                </button>
                                <button class="btn btn-secondary" onclick="Game.quit()">
                                    <i class="fas fa-sign-out-alt"></i> QUIT
                                </button>
                            </div>
                        </div>

                        <!-- Game Over Screen -->
                        <div id="game-over-screen" class="overlay-menu">
                            <div class="menu-content">
                                <h2 class="game-over-title">QUANTUM COLLAPSE</h2>
                                <div class="final-stats">
                                    <div class="stat-big">
                                        <i class="fas fa-star"></i>
                                        <span id="final-score">0</span>
                                        <p>Final Score</p>
                                    </div>
                                    <div class="stat-row">
                                        <div class="stat-item-small">
                                            <i class="fas fa-medal"></i>
                                            <span id="final-rank">Novice</span>
                                        </div>
                                        <div class="stat-item-small">
                                            <i class="fas fa-fire"></i>
                                            <span id="final-combo">x1</span>
                                        </div>
                                    </div>
                                </div>
                                <div id="new-achievements" class="achievements-unlocked"></div>
                                <div class="game-over-buttons">
                                    <button class="btn btn-primary" onclick="Game.restart()">
                                        <i class="fas fa-redo"></i> PLAY AGAIN
                                    </button>
                                    <button class="btn btn-secondary" onclick="App.navigateTo('home')">
                                        <i class="fas fa-home"></i> HOME
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Leaderboard Page -->
        <section id="leaderboard-page" class="page">
            <h2 class="page-title">🏆 GLOBAL LEADERBOARD 🏆</h2>
            
            <div class="leaderboard-filters">
                <button class="filter-btn active" data-filter="all-time">All Time</button>
                <button class="filter-btn" data-filter="weekly">Weekly</button>
                <button class="filter-btn" data-filter="daily">Daily</button>
                <button class="filter-btn" data-filter="friends">Friends</button>
            </div>

            <div class="leaderboard-mode-tabs">
                <button class="mode-tab active" data-mode="classic">Classic</button>
                <button class="mode-tab" data-mode="time-attack">Time Attack</button>
                <button class="mode-tab" data-mode="hardcore">Hardcore</button>
                <button class="mode-tab" data-mode="survival">Survival</button>
            </div>

            <div class="leaderboard-container">
                <div class="top-three">
                    <div class="podium-place second">
                        <div class="player-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <h3 class="player-name">Player 2</h3>
                        <p class="player-score">245,680</p>
                        <div class="medal silver">
                            <i class="fas fa-medal"></i>
                            <span>2nd</span>
                        </div>
                    </div>
                    <div class="podium-place first">
                        <div class="crown">
                            <i class="fas fa-crown"></i>
                        </div>
                        <div class="player-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <h3 class="player-name">QuantumMaster</h3>
                        <p class="player-score">1,234,567</p>
                        <div class="medal gold">
                            <i class="fas fa-medal"></i>
                            <span>1st</span>
                        </div>
                    </div>
                    <div class="podium-place third">
                        <div class="player-avatar">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <h3 class="player-name">Player 3</h3>
                        <p class="player-score">198,450</p>
                        <div class="medal bronze">
                            <i class="fas fa-medal"></i>
                            <span>3rd</span>
                        </div>
                    </div>
                </div>

                <div class="leaderboard-list">
                    <table class="leaderboard-table">
                        <thead>
                            <tr>
                                <th>Rank</th>
                                <th>Player</th>
                                <th>Score</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="leaderboard-tbody">
                            <!-- Dynamically populated -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Achievements Page -->
        <section id="achievements-page" class="page">
            <h2 class="page-title">🏅 ACHIEVEMENTS 🏅</h2>
            
            <div class="achievements-stats">
                <div class="stat-card">
                    <i class="fas fa-trophy"></i>
                    <h3 id="achievements-completed">0</h3>
                    <p>Unlocked</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-percentage"></i>
                    <h3 id="achievements-percentage">0%</h3>
                    <p>Completion</p>
                </div>
                <div class="stat-card">
                    <i class="fas fa-coins"></i>
                    <h3 id="achievements-coins-earned">0</h3>
                    <p>Coins Earned</p>
                </div>
            </div>

            <div class="achievements-filters">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="unlocked">Unlocked</button>
                <button class="filter-btn" data-filter="locked">Locked</button>
                <button class="filter-btn" data-filter="rare">Rare</button>
            </div>

            <div id="achievements-container" class="achievements-grid">
                <!-- Dynamically populated -->
            </div>
        </section>

        <!-- Shop Page -->
        <section id="shop-page" class="page">
            <h2 class="page-title">🛒 COSMIC SHOP 🛒</h2>
            
            <div class="shop-currency">
                <div class="currency-display">
                    <i class="fas fa-coins"></i>
                    <span id="shop-coins">0</span>
                    <p>Quantum Coins</p>
                </div>
                <div class="currency-display">
                    <i class="fas fa-gem"></i>
                    <span id="shop-gems">0</span>
                    <p>Rare Gems</p>
                </div>
            </div>

            <div class="shop-tabs">
                <button class="shop-tab active" data-category="skins">Skins</button>
                <button class="shop-tab" data-category="trails">Trails</button>
                <button class="shop-tab" data-category="themes">Themes</button>
                <button class="shop-tab" data-category="effects">Effects</button>
                <button class="shop-tab" data-category="bundles">Bundles</button>
            </div>

            <div id="shop-items" class="shop-grid">
                <!-- Dynamically populated -->
            </div>
        </section>

        <!-- Profile Page -->
        <section id="profile-page" class="page">
            <h2 class="page-title">👤 PLAYER PROFILE 👤</h2>
            
            <div class="profile-container">
                <div class="profile-header">
                    <div class="profile-avatar-large">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <div class="profile-info">
                        <h3 id="profile-username">Player</h3>
                        <p id="profile-title" class="profile-title">Novice Explorer</p>
                        <div class="profile-level">
                            <span>Level <strong id="profile-level">1</strong></span>
                            <div class="level-progress">
                                <div class="level-progress-bar" id="profile-level-bar"></div>
                            </div>
                            <span id="profile-xp">0 / 1000 XP</span>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="Profile.editProfile()">
                        <i class="fas fa-edit"></i> EDIT PROFILE
                    </button>
                </div>

                <div class="profile-stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-gamepad"></i>
                        <h3 id="total-games">0</h3>
                        <p>Total Games</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-trophy"></i>
                        <h3 id="total-wins">0</h3>
                        <p>High Scores</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-clock"></i>
                        <h3 id="total-playtime">0h</h3>
                        <p>Playtime</p>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-star"></i>
                        <h3 id="best-score">0</h3>
                        <p>Best Score</p>
                    </div>
                </div>

                <div class="profile-sections">
                    <div class="profile-section">
                        <h3><i class="fas fa-chart-line"></i> Statistics</h3>
                        <canvas id="stats-chart" width="400" height="200"></canvas>
                    </div>
                    
                    <div class="profile-section">
                        <h3><i class="fas fa-history"></i> Recent Games</h3>
                        <div id="recent-games" class="recent-games-list">
                            <!-- Populated dynamically -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Notification System -->
    <div id="notification-container"></div>

    <!-- Modal Container -->
    <div id="modal-container"></div>

    <!-- Scripts - Load in correct order -->
    <!-- Core utilities -->
    <script src="js/utils.js"></script>
    <script src="js/data/config.js"></script>
    
    <!-- Systems -->
    <script src="js/storage.js"></script>
    <script src="js/systems/stats-tracker.js"></script>
    <script src="js/achievements.js"></script>
    <script src="js/shop.js"></script>
    <script src="js/leaderboard.js"></script>
    <script src="js/profile.js"></script>
    
    <!-- Game core -->
    <script src="js/core/particles.js"></script>
    <script src="js/core/player.js"></script>
    <script src="js/core/game.js"></script>
    
    <!-- UI controllers -->
    <script src="js/ui/game-controller.js"></script>
    
    <!-- Main app -->
    <script src="js/app.js"></script>
    
    <script>
        // Initialize app on load
        window.addEventListener('load', () => {
            App.init();
        });
    </script>
</body>
</html>
